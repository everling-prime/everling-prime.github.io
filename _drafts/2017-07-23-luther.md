---
published: false
---
# DARK WEB DRUG MARKET PREDICTION

## Project Luther

**Objective**: Train models with machine learning to predict a continuous numeric variable from a web-scraped data set.

**Subject**: price distributions on the hidden markets of the [dark web](https://en.wikipedia.org/wiki/Dark_web).

**Description**: It is remarkably easy for anyone with internet access to visit dark web marketplaces and view product listings. I herein use Python code to simulate the behavior of a human browsing these markets, selectively collect and save information from each market page this browsing agent views, and finally use the collected data in aggregate to construct a predictive pricing model. 

---
    
  
## Context
Dark web marketplaces (cryptomarkets) are internet markets that facilitate anonymous buying and selling. Anonymity means that many of these markets trade illegal goods, as it is inherently difficult for law enforcement to intercept information or identify users. 

While [black markets](https://en.wikipedia.org/wiki/Black_market) have existed as long as regulated commerce itself, dark web markets were born somewhat recently when 4 technologies combined:

* Anonymous internet browsing (e.g. Tor and the Onion network)
* Virtual currencies (e.g. Bitcoin)
* Escrow (conditional money transfer)
* Vendor feedback systems (Amazon.com-like ratings of sellers)

Total cash flow through dark web markets is hard to estimate, but indicators show it as substantial and rising. The biggest vendors can earn millions of dollars per year.

The market studied for this project is called [Dream Market](https://www.deepdotweb.com/marketplace-directory/listing/dream-market/).

## Extra Fun Context

After bragging a little too loudly in a seedy Mexican cantina about your magic data science powers of prediction, you have been kidnapped by a forward-thinking drug cartel. They have developed a plan to sell their stock of cocaine on the internet. They demand that you help them develop a pricing model that will give them the most profit. If you do not, your life will be forfeit!

You, knowing nothing about cocaine or drug markets, immediately panic. Your life flashes before your eyes as the reality of your tragic end sets in. Eventually, the panic subsides and you remember that if you can just browse the market, you might be able to pick up on some patterns and save your life.

## The Market

Browsing Dream Market reveals a few things:

* There is an active market for cocaine already, with thousands of product listings
* Prices aren't consistent. Some vendors sell their cocaine for less than others.
* The main factor that determines price seems to be quantity, but there are some other less obvious factors too.

There are some quantities associated with product listing:
* how many grams the offer is for
* how much the offer costs
* what percentage purity the cocaine is

There are patterns in the data to be sure, but there's too much to sift through for one person. 


## Tools

**BeautifulSoup** automates the process of capturing information from HTML tags based on patterns I specify. For example, to collect the title strings of each cocaine listing, I use BeautifulSoup to search all the HTML of each search results page for `<div>` tags that have `class=productTitle`, and save the text contents of any such tag found.

**Selenium** automates browsing behavior. In this case, its primary function is simply to go to the market listings and periodically click to the next page of search results, so that BeautifulSoup can then scrape the data. I set a `sleep` timeout in the code so that the function would make http requests at a reasonably slow rate.

**Pandas** to tabularize the data in Python and stage it for analysis.

[**Scikit Learn**](http://scikit-learn.org/stable/) for regression and model selection.


## Data Collection













- Context (Why): Define the environment in which the problem exists and set up the motivation for the research question.
- Problem (Question): Concisely describe the problem as a question that you went out and answered.
- Solution (Answer): Concisely describe the solution as an answer to the question you posed in the previous section. Be specific.
- Findings: Bulleted lists of discoveries you made along the way that interest the audience. They may be discoveries in the data, methods that did or did not work or the model performance benefits you achieved along your journey.
- Limitations: Consider where the model does not work or questions that the model does not answer. Do not shy away from these questions, defining where the model excels is more trusted if you can define where it does not excel.
- Conclusions (Why+Question+Answer): Revisit the why, research question and the answer you discovered in a tight little package that is easy to remember and repeat for yourself and others.
